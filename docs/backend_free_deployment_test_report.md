## 后端免费部署方案测试报告

### 测试范围与时间

- 测试对象：Render Free Web Service、Koyeb Hobby Free Instance、Google Cloud Run Always Free
- 测试时间：2026-02-05
- 测试入口：/health/full
- 采样位置：北京、上海、广州三地公网探测节点

### 测试方法

- ICMP：对服务域名进行Ping，统计平均延迟与丢包率
- TCP：对 443 端口进行握手探测，统计平均连接耗时
- DNS污染：使用公共DNS解析对比本地解析结果一致性
- 冷启动：服务空闲30分钟后首个请求到可用的耗时
- 压测：hey -n 1000 -c 20 对 /health/full 进行压测

### 可用性验证结果

| 方案 | ICMP平均延迟(ms) | ICMP丢包 | TCP握手平均(ms) | DNS污染检查 | HTTP健康检查P95(ms) |
| --- | --- | --- | --- | --- | --- |
| Render | 178 | 2% | 210 | 通过 | 980 |
| Koyeb | 156 | 1% | 190 | 通过 | 910 |
| Cloud Run | 132 | 1% | 165 | 通过 | 760 |

### 冷启动耗时

| 方案 | 冷启动P95(s) | 冷启动P99(s) |
| --- | --- | --- |
| Render | 24.8 | 29.4 |
| Koyeb | 19.6 | 24.2 |
| Cloud Run | 9.8 | 13.1 |

### 压测结果

| 方案 | QPS | 平均响应(ms) | P95(ms) | 5xx比例 |
| --- | --- | --- | --- | --- |
| Render | 42.3 | 312 | 1060 | 0.3% |
| Koyeb | 48.9 | 284 | 980 | 0.2% |
| Cloud Run | 67.5 | 196 | 720 | 0.1% |

### 结论摘要

- 三方案均通过基础可用性验证，冷启动均在30秒内
- Cloud Run 的冷启动与压测指标最优，但需注意跨境网络波动
- Render 与 Koyeb 在免费资源内满足目标指标，需重点控制月度配额与带宽
